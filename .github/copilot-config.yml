# GitHub Copilot Configuration for Agent X 3.0
# Enhances AI-assisted coding for both public and private repositories

# Repository Settings
repositories:
  - name: "Private-Claude"
    visibility: private
    copilot_enabled: true
    features:
      code_suggestions: true
      docstring_generation: true
      test_generation: true
      security_scanning: true
      code_review: true

  - name: "agent-x-public"
    visibility: public
    copilot_enabled: true
    features:
      code_suggestions: true
      docstring_generation: true
      test_generation: true
      security_scanning: true
      code_review: true

# Language-Specific Settings
languages:
  python:
    version: "3.12"
    style_guide: "PEP 8"
    type_hints: required
    docstring_format: "Google"
    linter: "ruff"
    formatter: "black"
    test_framework: "pytest"
    async_preferred: true

  typescript:
    version: "5.0"
    style_guide: "Airbnb"
    linter: "eslint"
    formatter: "prettier"
    test_framework: "jest"

  markdown:
    linter: "markdownlint"
    formatter: "prettier"

# Code Suggestions Preferences
suggestions:
  # Trading Bot Preferences
  trading:
    prefer_async: true
    error_handling: "comprehensive"
    logging_level: "INFO"
    type_safety: "strict"
    security: "high"

  # Tax Service Preferences
  tax:
    compliance_focus: true
    audit_logging: "mandatory"
    encryption: "AES-256"
    data_retention: "7 years"

  # Legal Service Preferences
  legal:
    documentation: "comprehensive"
    accessibility: "WCAG 2.1 AA"
    security: "attorney-client privilege aware"

# Security Settings
security:
  secrets_detection: true
  dependency_scanning: true
  code_quality_gates: true
  vulnerability_alerts: true

  # Sensitive patterns to exclude from suggestions
  exclude_patterns:
    - "API_KEY"
    - "SECRET"
    - "PASSWORD"
    - "PRIVATE_KEY"
    - "*.pem"
    - "*.key"

# Testing Preferences
testing:
  coverage_minimum: 80
  generate_unit_tests: true
  generate_integration_tests: true
  generate_fixtures: true
  mock_external_apis: true

# Documentation Preferences
documentation:
  auto_generate_docstrings: true
  include_type_hints: true
  include_examples: true
  include_references: true
  markdown_readme: true

# Custom Instructions for Copilot
custom_instructions:
  trading_bot: |
    When writing trading bot code:
    - Always use async/await for I/O operations
    - Implement proper risk management (stop-loss, position sizing)
    - Add comprehensive logging for all trades
    - Include error handling for API failures
    - Use type hints for all functions
    - Follow prop firm compliance rules (5% daily loss, 10% max drawdown)
    - Implement exponential backoff for API rate limits

  tax_service: |
    When writing tax service code:
    - Ensure all transactions are logged to immutable audit trail
    - Implement wallet-by-wallet basis tracking (Rev. Proc. 2024-28)
    - Add 7-year record retention for IRS compliance
    - Use AES-256 encryption for sensitive tax data
    - Implement FinCEN threshold monitoring (CTR at $10K, SAR at $2K)
    - Add comprehensive error handling for IRS API calls

  legal_service: |
    When writing legal service code:
    - Ensure WCAG 2.1 AA accessibility compliance
    - Implement attorney-client privilege protections
    - Add comprehensive audit logging for all document access
    - Use secure encryption for confidential documents
    - Follow AICPA SSTS standards for AI usage
    - Include human oversight checkpoints

  infrastructure: |
    When writing infrastructure code:
    - Use Docker for all service containerization
    - Implement health checks for all services
    - Add Prometheus metrics for monitoring
    - Use PostgreSQL for relational data
    - Use Redis for caching and real-time data
    - Implement TLS 1.3 for all communications
    - Add comprehensive backup strategies

# Code Review Guidelines
code_review:
  auto_review: true
  check_security: true
  check_performance: true
  check_accessibility: true
  suggest_improvements: true

  focus_areas:
    - Error handling
    - Type safety
    - Security vulnerabilities
    - Performance bottlenecks
    - Code duplication
    - Documentation quality
    - Test coverage

# Integration with GitHub Actions
github_actions:
  trigger_on:
    - pull_request
    - push

  workflows:
    - name: "Code Quality"
      steps:
        - lint
        - type_check
        - security_scan
        - test

    - name: "Copilot Review"
      steps:
        - suggest_improvements
        - check_coverage
        - generate_docs

# Copilot Chat Settings
chat:
  enabled: true
  context_awareness: "repository"
  code_explanation: true
  refactoring_suggestions: true
  bug_detection: true
  performance_optimization: true

# Ignored Files and Directories
ignore:
  - "node_modules/"
  - ".venv/"
  - "__pycache__/"
  - "*.pyc"
  - ".env"
  - "secrets/"
  - "*.log"
  - ".git/"
  - "dist/"
  - "build/"
