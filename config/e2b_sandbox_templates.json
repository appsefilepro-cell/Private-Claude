{
  "version": "1.0.0",
  "templates": {
    "python": {
      "name": "Python 3.11 Sandbox",
      "description": "Complete Python execution environment with data science libraries",
      "baseImage": "python:3.11-slim",
      "cpus": 2,
      "memory": "2GB",
      "timeout": 300,
      "environment": {
        "PYTHONUNBUFFERED": "1",
        "PYTHONDONTWRITEBYTECODE": "1"
      },
      "packages": [
        "pip",
        "git",
        "curl",
        "wget"
      ],
      "pythonPackages": [
        "numpy==1.24.3",
        "pandas==2.0.3",
        "requests==2.31.0",
        "beautifulsoup4==4.12.2",
        "matplotlib==3.7.1",
        "scikit-learn==1.3.0",
        "jupyter==1.0.0"
      ],
      "startup": [
        "pip install --no-cache-dir -r /tmp/requirements.txt",
        "export PYTHONPATH=/app:$PYTHONPATH"
      ],
      "features": [
        "file_upload",
        "file_download",
        "persistent_storage",
        "network_access",
        "code_execution"
      ]
    },
    "nodejs": {
      "name": "Node.js 18 Sandbox",
      "description": "Node.js execution environment with npm ecosystem",
      "baseImage": "node:18-alpine",
      "cpus": 2,
      "memory": "2GB",
      "timeout": 300,
      "environment": {
        "NODE_ENV": "production",
        "NODE_PATH": "/app/node_modules"
      },
      "packages": [
        "npm",
        "git",
        "curl",
        "bash"
      ],
      "nodePackages": [
        "axios@1.4.0",
        "lodash@4.17.21",
        "dotenv@16.3.1",
        "express@4.18.2",
        "uuid@9.0.0"
      ],
      "startup": [
        "npm install --no-save $(cat /tmp/package-list.txt)",
        "export PATH=/app/node_modules/.bin:$PATH"
      ],
      "features": [
        "file_upload",
        "file_download",
        "persistent_storage",
        "network_access",
        "code_execution"
      ]
    },
    "general": {
      "name": "General Purpose Sandbox",
      "description": "Multi-language environment with Python, Node.js, and bash",
      "baseImage": "ubuntu:22.04",
      "cpus": 4,
      "memory": "4GB",
      "timeout": 600,
      "environment": {
        "DEBIAN_FRONTEND": "noninteractive",
        "LANG": "C.UTF-8"
      },
      "packages": [
        "build-essential",
        "python3.11",
        "python3-pip",
        "nodejs",
        "npm",
        "git",
        "curl",
        "wget",
        "jq",
        "zip",
        "unzip",
        "vim",
        "nano",
        "bc"
      ],
      "startup": [
        "apt-get update && apt-get install -y $(cat /tmp/packages.txt)",
        "pip install --no-cache-dir -r /tmp/requirements.txt",
        "npm install -g npm@latest"
      ],
      "features": [
        "file_upload",
        "file_download",
        "persistent_storage",
        "network_access",
        "code_execution",
        "docker_commands"
      ]
    },
    "minimal": {
      "name": "Minimal Sandbox",
      "description": "Lightweight sandbox for quick scripts",
      "baseImage": "alpine:3.18",
      "cpus": 1,
      "memory": "512MB",
      "timeout": 120,
      "environment": {
        "PATH": "/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"
      },
      "packages": [
        "bash",
        "curl",
        "wget",
        "git"
      ],
      "startup": [],
      "features": [
        "file_upload",
        "file_download",
        "code_execution"
      ]
    }
  },
  "webhooks": {
    "github": {
      "enabled": true,
      "events": [
        "push",
        "pull_request",
        "release",
        "workflow_run"
      ],
      "retryPolicy": {
        "maxRetries": 3,
        "backoffMs": 1000,
        "exponentialBackoff": true
      }
    },
    "zapier": {
      "enabled": true,
      "webhookId": "YIyOpaJ0UMJ3Pl9Md5kVExEDdkqyDGRp",
      "events": [
        "sandbox_created",
        "execution_complete",
        "execution_failed",
        "sandbox_destroyed"
      ],
      "retryPolicy": {
        "maxRetries": 3,
        "backoffMs": 1000,
        "exponentialBackoff": true
      }
    }
  },
  "storage": {
    "maxFileSize": "100MB",
    "uploadDirectory": "/tmp/uploads",
    "downloadDirectory": "/tmp/downloads",
    "retentionDays": 7,
    "compressionEnabled": true,
    "compressionFormat": "gzip"
  },
  "monitoring": {
    "enabled": true,
    "logLevel": "INFO",
    "metricsInterval": 5,
    "healthCheckInterval": 30,
    "alertThresholds": {
      "cpuUsagePercent": 80,
      "memoryUsagePercent": 85,
      "diskUsagePercent": 90,
      "timeoutSeconds": 300
    }
  },
  "security": {
    "apiKeyRotation": {
      "enabled": true,
      "rotationDays": 90
    },
    "rateLimit": {
      "enabled": true,
      "requestsPerMinute": 100,
      "requestsPerHour": 5000
    },
    "isolation": {
      "networkPolicy": "restricted",
      "fileSystemPolicy": "read-write-temp",
      "processPolicy": "no-privilege-escalation"
    }
  }
}
